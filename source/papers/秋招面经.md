---
title: 秋招面经
date: 2024-07-08 14:34:57
categories:
- work
tags:
- interview
---


<!--more-->

## 简历描述
面试官您好，我叫XXX，来自湖北省荆州市。本科毕业于武汉大学计算机系，研究生就读于中国科学技术大学软件学院，预计将于明年六月份毕业。

在校期间，我获得过一次二等学业奖学金。研一期间，我独立完成了MIT的6.S081课程项目，设计并实现了一个精简的类Unix操作系统中的部分核心功能，包括内存管理、进程管理和文件系统等。

在研二开始，也就是去年七八月份，我来到燧原科技进行日常实习，主要负责公司推理加速卡的性能优化，至今已有将近一年的时间。这段时间里，我主要做了以下几方面的工作：

第一，组内的日常性能优化。在收到针对某网络或算子的性能优化需求后，我们会使用组内的autotuner框架处理网络或算子，获得算子级别的切分数据，并进行上卡实跑。通过性能对比，得到网络上各类算子的最佳切分，完成一次调优工作。

第二，autotuner的重构工作，称为tuner2.0。原先的autotuner流程比较繁琐，展示了过多的末端细节，只适合开发人员调试和使用。我们希望这一系统可以交给用户，甚至直接融入加速卡推理运行的生命周期中。因此，我的工作是对tuner的核心runner模块进行重写，利用多线程的思路提高系统健壮性，并完善异常处理等功能。

第三，为autotuner引入基于深度学习的启发式搜索模型，这也是我毕业论文的研究方向。原先基于单一网络的自动调优虽然能提供极致的性能优化，但本质上是根据加速卡的各项硬件参数，对算子的每一种可能切分进行实跑，进而找到最佳结果，运行时间较长且应用场景有限。当前的想法是设计一个在线学习模型，在得到足够量级的实跑数据后，对后续进入的算子数据直接推理出性能结果，以节省调优时间。

以上是我目前的一些工作经历和成果。谢谢！


### autotuner
我们知道张量运算由于大量的数据并行和数据吞吐，相比于计算，怎么高效地组织张量中各个元素的访存和调度，是机器学习编译器性能提高的重点。

TVM这种深度学习编译器的工作流程就是IR进行流转的过程。从Pytorch、ONNX这类框架中导入模型后，TVM首先会将模型翻译成他自己的一种模型语言RelayIR，经过各类pass、图级别的优化以及模型切分、降级之后转化成一个个小的张量表达式，也就是TE。对应到我们的autotuning系统中，我们首先会提取出经过多层pass流转处理过后的最后一级IR，我们叫做lastIR，这一层包含了模型全部计算节点信息，然后从里面提取出目前支持tune的算子种类，例如conv、dot等等，对于每个算子，首先生成机器支持的所有切分可能，经过我们的cost model来推测出性能最佳的切分参数。对应到我们自己的系统里，目前还是使用的基于实际硬件的黑盒模型，也就是将每一个切分都上机实跑得到运行时间这类性能数据，目前由于支持工作还比较轻松，等到后期积累到一定量的实际上机性能数据后，可以基于这些数据训练一个深度学习模型，直接推理出性能最佳的切分参数，来节省直接上机的时间

这一部分比较类似与TVM中的autoTVM机制，只不过他是用一种通用的调度原语来定义每个算子的参数搜索空间，然后搜索好像是基于遗传算法吧。我们当前的autotuner是针对单个种类的算子，每个算子针对性的设计切分参数空间，然后计划使用一种在线推理模型，同时。这也是我目前毕业论文的主要研究内容。

因为这个系统的使用场景是在一个非常巨大的参数搜索空间里面，根据有限的数据集来训练并推理出最佳的性能参数，所以对我们模型的泛化能力要求比较高，就是需要有很强的探索性，保证不那么容易的陷入局部最优解。以往的确定性代理模型，大致都是给一种配置，然后得到一个确定的性能分数，根据历史分数集合来评估当前配置好坏。同时在选择随机配置的时候往往会按照一个固定的比例来加入候选配置集。实际上由于模型是随着训练过程不断更新的，可能前期需要随机配置多一些，来提高泛化，后期需要随机比例小一些来加速收敛。因此我们提出了一种自适应的配置选择策略，根据模型的自身不确定性来调整配置的选择比例，以达到更好的利用-探索平衡。

我们目前正在开发的是一种基于贝叶斯网络的概率式在线推理模型。主要改进之处是增强网络的“利用-探索”平衡，以及对自身推理结果不确定性的自评估。


## 招聘情况

### 科大讯飞-提前批（飞星计划）-AI研究算法工程师-深度学习框架和平台方向
![alt text](image1.png)

#### 0628投递

#### 0708技术一面 40min

虚函数，静态多态和动态多态，内存分页机制，LRU

怎么排查内存泄漏

快排复杂度，为什么最坏是n^2

一条绳子切m段，怎么切使得每段长度之积最大（动态规划）

项目创新点，autoTVM算法

表达的太垃圾了。。。表述要清晰

有点kpi，最后“如果没什么问题我们就结束了”。。。反问环节也没有

0718通知一面过。。。约0725晚上八点二面

#### 0725技术二面 40min

全是大模型优化之类，岗位明显不太符合，25分钟提前结束，寄

面评：综合评估下来，大模型的了解不足，推理优化知识较为不清晰。

### 科大讯飞-提前批（飞凡计划）-研发方向
![alt text](image2.png)

#### 0706投递

#### 0803笔试

#### 0809
问到java和golang，不是很匹配

智能指针 静态/动态多态 内存泄漏的预防 操作系统锁 golang的协程与C++线程区别 无锁编程 malloc/new/free/delete

继承/构造/析构 基类指针指向子类对象 空类/结构体的大小 带虚函数的类大小 带const的类大小

### 米哈游-后端开发工程师

#### 0803笔试
笔试和科大讯飞冲突了，随便乱写，寄
